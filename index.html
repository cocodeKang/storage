<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì˜ìƒ í•™ìŠµ ì‚¬ì´íŠ¸</title>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 800px; margin: auto; }
    h1 { text-align: center; margin-bottom: 2rem; }
    #video-container { text-align: center; }
    video { width: 100%; max-width: 720px; border-radius: 8px; background: #222; }
    .controls { display: flex; justify-content: space-between; margin: 1rem 0; }
    button { padding: .5rem 1rem; font-size: 1rem; }
    #answer { 
      margin-top: 1rem; 
      font-size: 1.5rem; 
      color: #0ea5e9; 
      font-weight: bold; 
      display: none;
    }
  </style>
</head>
<body>
  <h1>ğŸ¬ ì—…ë¡œë“œëœ ì˜ìƒ í•™ìŠµ</h1>
  <div id="video-container">
    <video id="player" controls autoplay></video>
    <div class="controls">
      <button id="prevBtn">â—€ï¸ ì´ì „</button>
      <button id="toggleAnswerBtn">ì •ë‹µë³´ê¸°</button>
      <button id="nextBtn">ë‹¤ìŒ â–¶ï¸</button>
    </div>
    <div id="answer"></div>
    <div style="text-align:center; margin-top:.5rem;">
      <span id="counter"></span>
    </div>
  </div>

  <script>
    // 1) ì—¬ê¸°ì— íŒŒì¼ëª… ë°°ì—´ì— ì¶”ê°€í•˜ì„¸ìš”
    const files = [
      "ê¸ˆìƒ‰.mp4",
      "ì´‰ë°•í•˜ë‹¤.mp4",
      "ê°€ë”.mp4"
      // ,"ìƒˆë¡œìš´íŒŒì¼.mp4"
    ];

    // í™•ì¥ì ì œê±°í•´ ë‹¨ì–´ë¡œ ì“°ê¸°
    const items = files.map(f => {
      const word = f.replace(/\.[^.]+$/, "");
      return { filename: f, word };
    });

    // Fisherâ€“Yates ì…”í”Œ
    function shuffle(arr) {
      const a = arr.slice();
      for (let i = a.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [a[i], a[j]] = [a[j], a[i]];
      }
      return a;
    }

    let shuffled = shuffle(items);
    let idx = 0;

    const player = document.getElementById("player");
    const answerEl = document.getElementById("answer");
    const counterEl = document.getElementById("counter");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const toggleAnswerBtn = document.getElementById("toggleAnswerBtn");

    function loadVideo() {
      const { filename, word } = shuffled[idx];
      answerEl.style.display = "none";
      answerEl.textContent = word;
      player.src = filename;
      counterEl.textContent = `${idx + 1} / ${shuffled.length}`;
      prevBtn.disabled = idx === 0;
      nextBtn.disabled = idx === shuffled.length - 1;
    }

    prevBtn.addEventListener("click", () => {
      if (idx > 0) {
        idx--;
        loadVideo();
      }
    });
    nextBtn.addEventListener("click", () => {
      if (idx < shuffled.length - 1) {
        idx++;
        loadVideo();
      }
    });
    toggleAnswerBtn.addEventListener("click", () => {
      answerEl.style.display = answerEl.style.display === "none" ? "block" : "none";
    });

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì²« ì˜ìƒ
    window.addEventListener("load", loadVideo);
  </script>
</body>
</html>
